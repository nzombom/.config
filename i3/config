### startup ###
exec --no-startup-id feh --no-fehbg --bg-fill --randomize $HOME/wallpapers/
exec --no-startup-id dunst
exec --no-startup-id polybar
exec --no-startup-id "i3-msg \"workspace 0; append_layout $HOME/.config/i3/workspace-0.json\""
exec --no-startup-id urxvt -e htop
exec --no-startup-id urxvt -e wiremix
exec --no-startup-id urxvtd
exec --no-startup-id playerctld
exec --no-startup-id unclutter --timeout 5
exec --no-startup-id picom

### basic control ###
bindsym Mod4+Shift+c reload
bindsym Mod4+Shift+r restart
bindsym Mod4+Shift+e exec --no-startup-id "i3-nagbar -f 'xft:Iosevka Bold 12' -t warning -m 'exit i3?' -B 'Yes, exit i3' 'i3-msg exit'"

# screenshot
bindsym Mod4+semicolon exec --no-startup-id "ffmpeg -f x11grab -video_size 1920x1080 -i $DISPLAY -vframes 1 -y $HOME/stuff/images/screen.png; xclip -selection clipboard -t image/png -i $HOME/stuff/images/screen.png"
bindsym Mod4+Shift+semicolon exec --no-startup-id "ffmpeg -f x11grab -select_region 1 -i $DISPLAY -vframes 1 -y $HOME/stuff/images/screen.png; xclip -selection clipboard -t image/png -i $HOME/stuff/images/screen.png"
bindsym Mod4+Ctrl+semicolon exec --no-startup-id "rm $HOME/stuff/images/screen.mp4; urxvtc -e ffmpeg -f x11grab -video_size 1920x1080 -framerate 30 -i $DISPLAY -f alsa -i default -c:v libx264 -c:a aac $HOME/stuff/images/screen.mp4"
bindsym Mod4+Ctrl+Shift+semicolon exec --no-startup-id "rm $HOME/images/screen.mp4; urxvtc -e ffmpeg -f x11grab -select_region 1 -framerate 30 -i $DISPLAY -f alsa -i default -c:v libx264 -c:a aac $HOME/stuff/images/screen.mp4"
for_window [title="^ffmpeg$"] floating enable

# lock
bindsym Mod4+n exec --no-startup-id i3lock -f -i $HOME/wallpapers/lock/lock.png

# volume keybinds
bindsym Mod4+F1 exec --no-startup-id wpctl set-mute @DEFAULT_SINK@ toggle
bindsym Mod4+F2 exec --no-startup-id wpctl set-volume @DEFAULT_SINK@ 5%-
bindsym Mod4+F3 exec --no-startup-id wpctl set-volume @DEFAULT_SINK@ 5%+
bindsym Mod4+F4 exec --no-startup-id wpctl set-volume @DEFAULT_SINK@ 100%

# player keybinds
bindsym Mod4+u exec --no-startup-id playerctl previous
bindsym Mod4+i exec --no-startup-id playerctl play-pause
bindsym Mod4+o exec --no-startup-id playerctl next

# brightness keybinds
bindsym Mod4+F9 exec --no-startup-id xrandr --output HDMI-1 --brightness 0.625
bindsym Mod4+F10 exec --no-startup-id xrandr --output HDMI-1 --brightness 0.75
bindsym Mod4+F11 exec --no-startup-id xrandr --output HDMI-1 --brightness 0.875
bindsym Mod4+F12 exec --no-startup-id xrandr --output HDMI-1 --brightness 1.0

# start terminal
bindsym Mod4+Return exec --no-startup-id urxvtc

# kill focused window
bindsym Mod4+Shift+q kill

# rofi
bindsym Mod4+d exec --no-startup-id $(rofi -dmenu)
bindsym Mod4+Shift+d exec --no-startup-id rofi -show drun

# change focus
bindsym Mod4+Left focus left
bindsym Mod4+h focus left
bindsym Mod4+Down focus down
bindsym Mod4+j focus down
bindsym Mod4+Up focus up
bindsym Mod4+k focus up
bindsym Mod4+Right focus right
bindsym Mod4+l focus right
bindsym Mod4+a focus parent
bindsym Mod4+z focus child
focus_wrapping force

# move window
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+h move left
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+j move down
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+k move up
bindsym Mod4+Shift+Right move right
bindsym Mod4+Shift+l move right
floating_modifier Mod4
tiling_drag modifier titlebar

# split horizontal / vertical
bindsym Mod4+g split h
bindsym Mod4+v split v

# fullscreen
bindsym Mod4+f fullscreen toggle

# change container layout
bindsym Mod4+s layout stacking
bindsym Mod4+w layout tabbed
bindsym Mod4+e layout toggle split

# floating windows
bindsym Mod4+space focus mode_toggle
bindsym Mod4+Shift+space floating toggle

# scratchpad
bindsym Mod4+minus scratchpad show
bindsym Mod4+Shift+minus move scratchpad

# resize window
mode "resize" {
        bindsym Left       resize shrink width 20 px
        bindsym h       resize shrink width 20 px
        bindsym Down       resize grow height 20 px
        bindsym j       resize grow height 20 px
        bindsym Up         resize shrink height 20 px
        bindsym k         resize shrink height 20 px
        bindsym Right      resize grow width 20 px
        bindsym l      resize grow width 20 px

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym Mod4+r mode "default"
}
bindsym Mod4+r mode "resize"

### workspaces ###
bindsym Mod4+Next workspace prev
bindsym Mod4+Prior workspace next
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws0 "0"

bindsym Mod4+1 workspace number $ws1
bindsym Mod4+2 workspace number $ws2
bindsym Mod4+3 workspace number $ws3
bindsym Mod4+4 workspace number $ws4
bindsym Mod4+5 workspace number $ws5
bindsym Mod4+6 workspace number $ws6
bindsym Mod4+7 workspace number $ws7
bindsym Mod4+8 workspace number $ws8
bindsym Mod4+9 workspace number $ws9
bindsym Mod4+0 workspace number $ws0

bindsym Mod4+Shift+1 move container to workspace number $ws1
bindsym Mod4+Shift+2 move container to workspace number $ws2
bindsym Mod4+Shift+3 move container to workspace number $ws3
bindsym Mod4+Shift+4 move container to workspace number $ws4
bindsym Mod4+Shift+5 move container to workspace number $ws5
bindsym Mod4+Shift+6 move container to workspace number $ws6
bindsym Mod4+Shift+7 move container to workspace number $ws7
bindsym Mod4+Shift+8 move container to workspace number $ws8
bindsym Mod4+Shift+9 move container to workspace number $ws9
bindsym Mod4+Shift+0 move container to workspace number $ws0

# assign windows to workspaces
assign [class="^firefox$"] 2
assign [class="^discord"] 3
assign [class="^steam$"] 4
assign [title="^Steam$"] 4
assign [class="^thunderbird$"] 6
assign [class="^qBittorrent$"] 7

for_window [class="^feh$"] floating enable

### appearance ###
font pango:Iosevka Light 10.5

# gaps
gaps inner 10
gaps outer 10
gaps top 0

# colors: class          border    bg        text      nxt win   child
client.focused           #ff707cff #b04040b0 #ffffffff #ff707cff #ff707cff
client.focused_inactive  #606060ff #404040b0 #a0a0a0ff #606060ff #505050ff
client.unfocused         #505050ff #30303080 #909090ff #505050ff #404040ff
client.urgent            #ff0000ff #600808e0 #ff8040ff #ff0000ff #ff0000ff
client.placeholder       #505050ff #303030e0 #909090ff #505050ff #404040ff
client.background        #ffffffff

# border styles
default_border pixel 2
for_window [class="^[sS]team$"] border pixel 2
